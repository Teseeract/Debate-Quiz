<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>What's Your Debating Element?</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f2f5;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .question {
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question h3 {
      margin-bottom: 10px;
    }
    .options label {
      display: block;
      margin-bottom: 5px;
      cursor: pointer;
    }
    .submit-btn {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .result {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: #fffbe6;
      border-radius: 10px;
      font-size: 18px;
    }
    .bar {
      height: 20px;
      margin: 5px 0;
      background: #ccc;
      border-radius: 5px;
      overflow: hidden;
    }
    .bar-inner {
      height: 100%;
      text-align: right;
      padding-right: 5px;
      color: white;
      font-size: 14px;
      line-height: 20px;
    }
  </style>
</head>
<body>

<h1>üî• What's Your Debating Element? üåä</h1>

<form id="quizForm">
  <div class="question">
    <h3>1. What do you do when your opponent makes a strong point?</h3>
    <label><input type="radio" name="q1" value="a"> Fight back immediately </label>
    <label><input type="radio" name="q1" value="b"> Acknowledge and dismantle it </label>
    <label><input type="radio" name="q1" value="c"> Use structured refutation </label>
    <label><input type="radio" name="q1" value="d"> Reframe the issue </label>
  </div>

  <div class="question">
    <h3>2. What's your prep style before a big debate?</h3>
    <label><input type="radio" name="q2" value="a"> Build strong attacks </label>
    <label><input type="radio" name="q2" value="b"> Study both sides </label>
    <label><input type="radio" name="q2" value="c"> Create detailed files </label>
    <label><input type="radio" name="q2" value="d"> Brainstorm creatively </label>
  </div>

  <div class="question">
    <h3>3. Your team is losing. What‚Äôs your instinct?</h3>
    <label><input type="radio" name="q3" value="a"> Rally boldly </label>
    <label><input type="radio" name="q3" value="b"> Calm and adapt </label>
    <label><input type="radio" name="q3" value="c"> Minimize damage </label>
    <label><input type="radio" name="q3" value="d"> Try something unexpected </label>
  </div>

  <div class="question">
    <h3>4. What do people compliment you on in debate?</h3>
    <label><input type="radio" name="q4" value="a"> Passion and charisma </label>
    <label><input type="radio" name="q4" value="b"> Emotional control </label>
    <label><input type="radio" name="q4" value="c"> Rigor and logic </label>
    <label><input type="radio" name="q4" value="d"> Wit and originality </label>
  </div>

  <div class="question">
    <h3>5. Which motion excites you most?</h3>
    <label><input type="radio" name="q5" value="a"> Overthrow oppression </label>
    <label><input type="radio" name="q5" value="b"> Restorative justice </label>
    <label><input type="radio" name="q5" value="c"> Ban predictive policing </label>
    <label><input type="radio" name="q5" value="d"> Promote sci-fi </label>
  </div>

  <button type="button" class="submit-btn" onclick="calculateResult()">See Your Elemental Mix</button>
</form>

<div id="result" class="result" style="display:none;"></div>

<script>
  const answerWeights = {
    q1: {
      a: { fire: 70, air: 30 },
      b: { water: 70, earth: 30 },
      c: { earth: 80, fire: 20 },
      d: { air: 70, water: 30 }
    },
    q2: {
      a: { fire: 60, earth: 40 },
      b: { water: 70, air: 30 },
      c: { earth: 80, water: 20 },
      d: { air: 75, fire: 25 }
    },
    q3: {
      a: { fire: 80, air: 20 },
      b: { water: 70, earth: 30 },
      c: { earth: 70, water: 30 },
      d: { air: 70, fire: 30 }
    },
    q4: {
      a: { fire: 90, air: 10 },
      b: { water: 80, earth: 20 },
      c: { earth: 85, water: 15 },
      d: { air: 85, fire: 15 }
    },
    q5: {
      a: { fire: 85, earth: 15 },
      b: { water: 80, air: 20 },
      c: { earth: 90, water: 10 },
      d: { air: 90, fire: 10 }
    }
  };

  function calculateResult() {
    const formData = new FormData(document.getElementById("quizForm"));
    const totals = { fire: 0, water: 0, earth: 0, air: 0 };
    let answered = 0;

    for (let [question, choice] of formData.entries()) {
      if (answerWeights[question] && answerWeights[question][choice]) {
        answered++;
        const weights = answerWeights[question][choice];
        for (let elem in weights) {
          totals[elem] += weights[elem];
        }
      }
    }

    // Normalize to 100%
    let totalScore = Object.values(totals).reduce((a, b) => a + b, 0);
    const percentages = {};
    for (let elem in totals) {
      percentages[elem] = Math.round((totals[elem] / totalScore) * 100);
    }

    // Display results
    const result = document.getElementById("result");
    result.innerHTML = `
      <h2>Your Debating Personality Mix</h2>
      ${generateBar("üî• Fire", "fire", percentages.fire, "#e74c3c")}
      ${generateBar("üåä Water", "water", percentages.water, "#3498db")}
      ${generateBar("üåç Earth", "earth", percentages.earth, "#2ecc71")}
      ${generateBar("üå¨ Air", "air", percentages.air, "#9b59b6")}
    `;
    result.style.display = "block";
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }

  function generateBar(label, key, percent, color) {
    return `
      <div><strong>${label}:</strong> ${percent}%</div>
      <div class="bar">
        <div class="bar-inner" style="width:${percent}%; background:${color};">${percent > 10 ? percent + '%' : ''}</div>
      </div>
    `;
  }
</script>

</body>
</html>

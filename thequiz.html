<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>What's Your Debating Element?</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f2f5;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .question {
      margin-bottom: 25px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question h3 {
      margin-bottom: 20px;
    }
    .options label {
      display: block;
      padding: 10px;
      margin-bottom: 10px;
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
    }
    .options input[type="radio"] {
      margin-right: 10px;
    }
    .submit-btn {
      display: block;
      margin: 30px auto 10px;
      padding: 12px 24px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    .result {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: #fffbe6;
      border-radius: 10px;
      font-size: 18px;
    }
    .bar {
      height: 20px;
      margin: 5px 0;
      background: #ccc;
      border-radius: 5px;
      overflow: hidden;
    }
    .bar-inner {
      height: 100%;
      text-align: right;
      padding-right: 5px;
      color: white;
      font-size: 14px;
      line-height: 20px;
    }
  </style>
</head>
<body>

<h1>🔥 What's Your Debating Element? 🌊</h1>

<form id="quizForm"></form>

<div id="result" class="result" style="display:none;"></div>

<script>
  const questions = [
    {
      question: "Why did you originally join debating?",
      options: [
        { text: "To prove myself and win arguments.", value: "a" },
        { text: "To better understand others' perspectives.", value: "b" },
        { text: "To sharpen my logic and analytical skills.", value: "c" },
        { text: "To explore ideas and express my creativity.", value: "d" }
      ]
    },
    {
      question: "How do you usually respond when your opponent misunderstands your argument?",
      options: [
        { text: "Use it as a pivot to reframe your entire argument.", value: "d" },
        { text: "Clarify calmly and restate in simpler terms.", value: "b" },
        { text: "Firmly correct them to regain control of the room.", value: "a" },
        { text: "Let it slide unless it affects the core of your case.", value: "c" }
      ]
    },
    {
      question: "What’s your biggest strength during prep time?",
      options: [
        { text: "Brainstorming unusual but compelling frames.", value: "d" },
        { text: "Creating a clear case structure with layered logic.", value: "c" },
        { text: "Anticipating emotional angles or audience reaction.", value: "b" },
        { text: "Generating strong examples and punchy phrasing.", value: "a" }
      ]
    },
    {
      question: "During crossfire (POIs or rebuttal clashes), what’s your instinct?",
      options: [
        { text: "Use crossfire to expose contradictions with humor or irony.", value: "d" },
        { text: "Avoid it unless necessary; focus on your speeches.", value: "c" },
        { text: "Interject often and aggressively to rattle your opponents.", value: "a" },
        { text: "Choose moments carefully and ask probing, polite questions.", value: "b" }
      ]
    },
    {
      question: "How do you make your case persuasive?",
      options: [
        { text: "Connect the motion to real-world impact and empathy.", value: "b" },
        { text: "Redefine the issue to make your side seem inevitable.", value: "d" },
        { text: "Build step-by-step logic that’s hard to refute.", value: "c" },
        { text: "Deliver your points with passion and urgency.", value: "a" }
      ]
    },
    {
      question: "You’re in a tight round against strong opponents. What’s your strategy?",
      options: [
        { text: "Stick to your prepared structure and out-analyze them.", value: "c" },
        { text: "Stay adaptable and listen closely to tweak your case.", value: "b" },
        { text: "Flip the framing in your reply speech to undermine their assumptions.", value: "d" },
        { text: "Go bold: try to outshine with energy and assertiveness.", value: "a" }
      ]
    },
    {
      question: "Which type of motion do you usually enjoy the most?",
      options: [
        { text: "Meta or abstract motions about debate, identity, or philosophy.", value: "d" },
        { text: "Policy-heavy or tech-regulation motions.", value: "c" },
        { text: "Moral dilemmas or activism-based debates.", value: "a" },
        { text: "Social issues and nuanced ethical decisions.", value: "b" }
      ]
    },
    {
      question: "What motivates you most to improve in debate?",
      options: [
        { text: "The challenge of building flawless logical structures.", value: "c" },
        { text: "The thrill of outperforming tough opponents.", value: "a" },
        { text: "The desire to connect better with audiences and judges.", value: "b" },
        { text: "The curiosity to explore new ideas and experiment with framing.", value: "d" }
      ]
    },
    {
      question: "How do you typically respond when your team is under time pressure?",
      options: [
        { text: "Stick to the structure and avoid improvisation.", value: "c" },
        { text: "Push your team to be bolder and more decisive.", value: "a" },
        { text: "Keep morale high and reassure your team.", value: "b" },
        { text: "Suggest cutting the argument in an unexpected way.", value: "d" }
      ]
    },
    {
      question: "What’s your mindset right before a debate round begins?",
      options: [
        { text: "I hype myself up—this is war and I’m ready to win.", value: "a" },
        { text: "I remind myself to stay composed and read the judges well.", value: "b" },
        { text: "I run through my case structure to check for gaps or weak links.", value: "c" },
        { text: "I think about clever angles or unexpected ways to flip the motion.", value: "d" }
      ]
    },
    {
      question: "Which kind of clash do you prefer handling?",
      options: [
        { text: "Technical disputes over principles or causation.", value: "c" },
        { text: "Heated ideological showdowns.", value: "a" },
        { text: "Subtle shifts in framing and assumptions.", value: "d" },
        { text: "Emotional or ethical dilemmas.", value: "b" }
      ]
    }
  ];

  const form = document.getElementById('quizForm');
  questions.forEach((q, i) => {
    const div = document.createElement('div');
    div.className = 'question';
    div.innerHTML = `<h3>${q.question}</h3>` + q.options.map(opt => `
      <div class='options'><label><input type="radio" name="q${i + 1}" value="${opt.value}"> ${opt.text}</label></div>`).join('');
    form.appendChild(div);
  });

  const button = document.createElement('button');
  button.type = 'button';
  button.className = 'submit-btn';
  button.innerText = 'See Your Elemental Mix';
  button.onclick = calculateResult;
  form.appendChild(button);

  function calculateResult() {
    const totals = { fire: 0, water: 0, earth: 0, air: 0 };
    const formData = new FormData(form);

    for (let [key, value] of formData.entries()) {
      const weights = answerWeights[value];
      for (let elem in weights) {
        totals[elem] += weights[elem];
      }
    }

    const totalScore = Object.values(totals).reduce((a, b) => a + b, 0);
    const percentages = {};
    for (let elem in totals) {
      percentages[elem] = Math.round((totals[elem] / totalScore) * 100);
    }

    const sorted = Object.entries(percentages).sort((a, b) => b[1] - a[1]);
    const [topElem, topPercent] = sorted[0];
    const [secondElem, secondPercent] = sorted[1];
    const blend = Math.abs(topPercent - secondPercent) <= 5 || percentages[sorted[2][0]] > 20;

    const result = document.getElementById("result");
    result.innerHTML = `
      <h2>Your Debating Personality Mix</h2>
      ${generateBar("🔥 Fire", percentages.fire, "#e74c3c")}
      ${generateBar("🌊 Water", percentages.water, "#3498db")}
      ${generateBar("🌍 Earth", percentages.earth, "#2ecc71")}
      ${generateBar("🌬 Air", percentages.air, "#9b59b6")}
      <div style="margin-top:25px;">
        ${blend ? blendedDescription(topElem, secondElem, percentages) : singleDescription(topElem)}
      </div>
      <button onclick="window.location.reload()" style="margin-top:20px; padding: 10px 20px; background:#555; color:white; border:none; border-radius:5px; cursor:pointer;">Retake Quiz</button>
    `;
    result.style.display = 'block';
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }

  function generateBar(label, percent, color) {
    return `
      <div><strong>${label}:</strong> ${percent}%</div>
      <div class="bar"><div class="bar-inner" style="width:${percent}%; background:${color};">${percent > 10 ? percent + '%' : ''}</div></div>
    `;
  }
  const answerWeights = {
    a: { fire: 85, air: 15 },
    b: { water: 80, earth: 20 },
    c: { earth: 85, fire: 15 },
    d: { air: 85, water: 15 }
  };

  const descriptions = {
    fire: {
      name: "🔥 Fire – The Challenger",
      text: "You thrive in the heat of the moment. Passionate, competitive, and energetic, you bring intensity to every round. You're bold in clashes and unafraid to take risks — sometimes overwhelming, but always unforgettable."
    },
    water: {
      name: "🌊 Water – The Empath",
      text: "You navigate debates with emotional intelligence and grace. Calm, adaptable, and strategic, you read the room well and excel in nuanced analysis. You’re not the loudest, but you often win hearts and minds."
    },
    earth: {
      name: "🌍 Earth – The Analyst",
      text: "You bring order to chaos. Logical, structured, and deeply prepared, you ground your team with solid analysis and unshakable frameworks. You may not dazzle, but you never crumble under pressure."
    },
    air: {
      name: "🌬 Air – The Visionary",
      text: "You’re the abstract thinker with a creative edge. Witty, intuitive, and full of lateral insights, you challenge norms and flip debates on their heads. At your best, you inspire; at your worst, you confuse."
    }
  };

  function singleDescription(elem) {
    const nameMap = {
      fire: "🔥 Fire",
      water: "🌊 Water",
      earth: "🌍 Earth",
      air: "🌬 Air"
    };
    const title = `<h3>${nameMap[elem]} – The Pure Element</h3>`;
    return `${title}<p>${descriptions[elem].text}</p>`;
  }

  function blendedDescription(primary, secondary, percentages) {
    const mixMap = {
      airfire: { name: "⚡ Lightning", desc: "You dazzle with sharp wit and wild creativity. You move fast, think even faster, and always keep your opponents guessing." },
      airearth: { name: "🏜️ Sand", desc: "You blend structure and abstraction effortlessly. Grounded in logic yet always flexible, you erode weak arguments grain by grain — subtle, strategic, and quietly powerful." },
      airwater: { name: "🌫️ Mist", desc: "Elusive but persuasive, you bring sensitivity and originality to every round. You often sway others with subtle but powerful insights." },
      earthfire: { name: "🐦‍🔥 Lava", desc: "A grounded powerhouse. You use structured logic but erupt with fiery impact when needed. Calm under pressure, yet explosively persuasive." },
      earthwater: { name: "🤎 Mud", desc: "Calm, consistent, and precise. You win rounds by gently but firmly shaping the terrain of debate. Your style sticks with the judges." },
      firewater: { name: "♨️ Steam", desc: "You are both passionate and empathetic — combining intensity with emotional insight. You’re a speaker who brings both force and grace into the room." },
      airearthfire: { name: "🔥🌪 Wildfire", desc: "Structure feeds your speed, and you blaze through arguments." },
      airfirewater: { name: "⛈ Storm", desc: "You’re a tempest of emotion, energy, and creativity." },
      airEarthWater: { name: "🌫 Quicksand", desc: "Slow, deliberate, and deadly effective." },
      earthfirewater: { name: "🌋 Volcano", desc: "Explosive yet grounded, you combine passion, empathy, and structure." }
    };

    const sortedElems = Object.entries(percentages).sort((a, b) => b[1] - a[1]);
    const topThree = sortedElems.slice(0, 3).filter(([_, v]) => v > 20).map(([k]) => k);
    const comboKey = topThree.length >= 2 ? topThree.sort().join('') : [primary, secondary].sort().join('');
    const mix = mixMap[comboKey];

    if (mix) {
      return `<h3 style="font-size: 24px;">${mix.name}</h3><p style="font-size: 18px;">${mix.desc}</p>`;
    }

    return `<h3>🔀 ${primary.toUpperCase()} + ${secondary.toUpperCase()}</h3><p>You’re a unique blend of <strong>${primary}</strong> and <strong>${secondary}</strong>. Together, they form something new — but we don't yet have a name for it!</p>`;
  }
</script>

</body>
</html>

</html>

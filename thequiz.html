<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>What's Your Debating Element?</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f2f5;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .question {
      margin-bottom: 25px;
      padding: 15px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .question h3 {
      margin-bottom: 20px;
    }
    .options label {
      display: block;
      padding: 10px;
      margin-bottom: 10px;
      background: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
    }
    .options input[type="radio"] {
      margin-right: 10px;
    }
    .submit-btn {
      display: block;
      margin: 30px auto 10px;
      padding: 12px 24px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    .result {
      text-align: center;
      margin-top: 30px;
      padding: 20px;
      background: #fffbe6;
      border-radius: 10px;
      font-size: 18px;
    }
    .bar {
      height: 20px;
      margin: 5px 0;
      background: #ccc;
      border-radius: 5px;
      overflow: hidden;
    }
    .bar-inner {
      height: 100%;
      text-align: right;
      padding-right: 5px;
      color: white;
      font-size: 14px;
      line-height: 20px;
    }
  </style>
</head>
<body>

<h1>üî• What's Your Debating Element? üåä</h1>

<form id="quizForm"></form>

<div id="result" class="result" style="display:none;"></div>

<script>
  const questions = [...]; // Questions stay as is

  const answerWeights = {
    a: { fire: 85, air: 15 },
    b: { water: 80, earth: 20 },
    c: { earth: 85, fire: 15 },
    d: { air: 85, water: 15 }
  };

  const descriptions = {
    fire: {
      name: "üî• Fire ‚Äì The Challenger",
      text: "You thrive in the heat of the moment. Passionate, competitive, and energetic, you bring intensity to every round. You're bold in clashes and unafraid to take risks ‚Äî sometimes overwhelming, but always unforgettable."
    },
    water: {
      name: "üåä Water ‚Äì The Empath",
      text: "You navigate debates with emotional intelligence and grace. Calm, adaptable, and strategic, you read the room well and excel in nuanced analysis. You‚Äôre not the loudest, but you often win hearts and minds."
    },
    earth: {
      name: "üåç Earth ‚Äì The Analyst",
      text: "You bring order to chaos. Logical, structured, and deeply prepared, you ground your team with solid analysis and unshakable frameworks. You may not dazzle, but you never crumble under pressure."
    },
    air: {
      name: "üå¨ Air ‚Äì The Visionary",
      text: "You‚Äôre the abstract thinker with a creative edge. Witty, intuitive, and full of lateral insights, you challenge norms and flip debates on their heads. At your best, you inspire; at your worst, you confuse."
    }
  };

  const form = document.getElementById('quizForm');
  questions.forEach((q, i) => {
    const div = document.createElement('div');
    div.className = 'question';
    div.innerHTML = `<h3>${q.question}</h3>` + q.options.map(opt => `
      <label><input type="radio" name="q${i + 1}" value="${opt.value}"> ${opt.text}</label>`).join('');
    form.appendChild(div);
  });

  const button = document.createElement('button');
  button.type = 'button';
  button.className = 'submit-btn';
  button.innerText = 'See Your Elemental Mix';
  button.onclick = calculateResult;
  form.appendChild(button);

  function calculateResult() {
    const totals = { fire: 0, water: 0, earth: 0, air: 0 };
    const formData = new FormData(form);

    for (let [key, value] of formData.entries()) {
      const weights = answerWeights[value];
      for (let elem in weights) {
        totals[elem] += weights[elem];
      }
    }

    const totalScore = Object.values(totals).reduce((a, b) => a + b, 0);
    const percentages = {};
    for (let elem in totals) {
      percentages[elem] = Math.round((totals[elem] / totalScore) * 100);
    }

    const sorted = Object.entries(percentages).sort((a, b) => b[1] - a[1]);
    const [topElem, topPercent] = sorted[0];
    const [secondElem, secondPercent] = sorted[1];
    const blend = Math.abs(topPercent - secondPercent) <= 5;

    const result = document.getElementById("result");
    result.innerHTML = `
      <h2>Your Debating Personality Mix</h2>
      ${generateBar("üî• Fire", percentages.fire, "#e74c3c")}
      ${generateBar("üåä Water", percentages.water, "#3498db")}
      ${generateBar("üåç Earth", percentages.earth, "#2ecc71")}
      ${generateBar("üå¨ Air", percentages.air, "#9b59b6")}
      <div style="margin-top:25px;">
        ${blend ? blendedDescription(topElem, secondElem) : singleDescription(topElem)}
      </div>
      <button onclick="window.location.reload()" style="margin-top:20px; padding: 10px 20px; background:#555; color:white; border:none; border-radius:5px; cursor:pointer;">Retake Quiz</button>
    `;
    result.style.display = 'block';
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }

  function generateBar(label, percent, color) {
    return `
      <div><strong>${label}:</strong> ${percent}%</div>
      <div class="bar"><div class="bar-inner" style="width:${percent}%; background:${color};">${percent > 10 ? percent + '%' : ''}</div></div>
    `;
  }

  function singleDescription(elem) {
    return `<h3>${descriptions[elem].name}</h3><p>${descriptions[elem].text}</p>`;
  }

  function blendedDescription(primary, secondary) {
    return `
      <h3>${descriptions[primary].name} + ${descriptions[secondary].name}</h3>
      <p>You‚Äôre a unique blend of <strong>${primary.toUpperCase()}</strong> and <strong>${secondary.toUpperCase()}</strong>. ${descriptions[primary].text}</p>
      <p>But you also show traits of ${secondary.toUpperCase()} ‚Äì ${descriptions[secondary].text}</p>
    `;
  }
</script>

</body>
</html>
